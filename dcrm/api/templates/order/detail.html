{% extends "base.html" %} {% block heading %}
<div class="container" id="small">
  <div class="row">
    <div class="col">
      <h1>{{ OrderDetail.order_company_name }}</h1>
      <h4>
       {{ OrderDetail.order_Mobile}} - {{ OrderDetail.order_campaign}} {{OrderDetail.order_connection_type }}   <a
       href="{% url 'crm:OrderUpdate' OrderDetail.pk %}"
       class="btn btn btn-outline-primary"
     >
       Edit
     </a>
      </h4>
    </div>
    <div class="col d-flex justify-content-end align-items-end">

      <h1 class="text-muted">{{ OrderDetail.order_Number }}</h1>
    </div>
  </div>
  {% endblock %} 
  
  {% block content1 %}

  {% if OrderDetail.status == "CN" %}
  <div class="alert alert-success" role="alert">
  Order <strong>{{ OrderDetail.get_status_display }}</strong>
  </div>
{% elif OrderDetail.status == "CNL" %}
<div class="alert alert-danger" role="alert">
  Order <strong>{{ OrderDetail.get_status_display }}</strong>
</div>
{% else %}
  <div class="alert alert-info" role="alert">
    This order is currently in <strong>{{ OrderDetail.get_status_display }}</strong>
  </div>
{% endif %}


  <div class="row padding-top-small">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <div class="d-flex align-items-center">
            <i class="fa-solid fa-user"></i>
          <h5>Account Details</h5>
          </div>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Account Holder</strong>
              </div>
              <div class="col-lg-6">
                {{ OrderDetail.order_First_Name }}
                {{OrderDetail.order_Last_Name}}
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Business Name</strong>
              </div>
              <div class="col-lg-6">{{ OrderDetail.order_company_name }}</div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Business Type</strong>
              </div>
              <div class="col-lg-6">
                {{ OrderDetail.get_order_company_type_display }}
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Date Of Birth</strong>
              </div>
              <div class="col-lg-6">{{ OrderDetail.order_date_of_birth }}</div>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <div class="d-flex align-items-center">
            <i class="fa-solid fa-bolt"></i>
          <h5>Quick Details</h5>
        </div>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Status</strong>
              </div>
              <div class="col-lg-6">{{ OrderDetail.get_status_display }}</div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Campaign</strong>
              </div>
              <div class="col-lg-6">{{ OrderDetail.order_campaign }}</div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Sale Type</strong>
              </div>
              <div class="col-lg-6">
                {{ OrderDetail.order_connection_type }}
              </div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Created Date</strong>
              </div>
              <div class="col-lg-6">
                {{ OrderDetail.order_Created|date:"F d, Y" }}
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="row padding-top">
    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <div class="d-flex align-items-center">
            <i class="fa-solid fa-receipt"></i>
            <h5>Account Address</h5>
          </div>
        </div>
        <div class="card-body">
          {{ OrderDetail.order_House_Number }} {{ OrderDetail.order_Street }}
          <br />
          {{ OrderDetail.order_City }}
          <br />
          {{ OrderDetail.order_County }}
          <br />
          {{ OrderDetail.order_Postcode }}
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <div class="d-flex align-items-center">
            <i class="fa-solid fa-truck"></i>
            <h5>Delivery Address</h5>
          </div>
        </div>
        <div class="card-body">
          {{ OrderDetail.order_Delivery_House_Number}} {{OrderDetail.order_Delivery_Street }}
          <br />
          {{ OrderDetail.order_Delivery_City }}
          <br />
          {{ OrderDetail.order_Delivery_County }}
          <br />
          {{ OrderDetail.order_Delivery_Postcode }}
        </div>
      </div>
    </div>



    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <div class="d-flex align-items-center">
            <i class="fa-solid fa-address-book"></i>
            <h5>Contact Details</h5>
          </div>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Mobile</strong>
              </div>
              <div class="col-lg-6">{{OrderDetail.order_Mobile}}</div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Landline</strong>
              </div>
              <div class="col-lg-6">{{OrderDetail.order_Landline}}</div>
            </div>
          </li>
          <li class="list-group-item">
            <div class="row">
              <div class="col-lg-6">
                <strong>Email</strong>
              </div>
              <div class="col-lg-6">{{OrderDetail.order_Email}}</div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

    <div class="row padding-top">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header">
            <div class="d-flex align-items-center">
              <i class="fa-solid fa-shopping-cart"></i>
            <h5>Sale Details</h5>
            </div>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <div class="row">
                <div class="col-lg-3">
                  <strong>Network</strong>
                </div>
                <div class="col-lg-3">{{OrderDetail.order_network}}
                </div>
                <div class="col-lg-3">
                  <strong>Sale Type</strong>
                </div>
                <div class="col-lg-3">{{OrderDetail.order_connection_type}}
                </div>
              </li>
            <li class="list-group-item">
              <div class="row">
                <div class="col-lg-3">
                  <strong>Tariff</strong>
                </div>
                <div class="col-lg-3">{{OrderDetail.order_tariff}}
                </div>
                <div class="col-lg-3">
                  <strong>SIM Required?</strong>
                </div>
                <div class="col-lg-3">
                  {{OrderDetail.get_order_sim_required_display}}
                </div>
              </li>
            <li class="list-group-item">
              <div class="row">
                <div class="col-lg-3">
                  <strong>Eligibility Date</strong>
                </div>
                <div class="col-lg-3">{{OrderDetail.order_eligibility_date|date:"F d, Y"}}
                </div>
                <div class="col-lg-3">
                  <strong>Spend Cap</strong>
                </div>
                <div class="col-lg-3">
                  Â£{{OrderDetail.order_spend_cap}}
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>


          <div class="row padding-top padding-bottom">
            <div class="col-md-6">
              <div class="card">
                <div class="card-header">
                  <div class="d-flex align-items-center">
                    <i class="fa-solid fa-percent"></i>
                    <h5>Commission Calculations</h5>
                  </div>
                </div>
                <div class="card-body">
                  {{ OrderDetail.order_commission_details }}
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card">
                <div class="card-header">
                  <div class="d-flex align-items-center">
                    <i class="fa-solid fa-circle-info"></i>
                    <h5>Additional Details</h5>
                  </div>
                </div>
                <div class="card-body">
                  {{ OrderDetail.order_additional_details }}
                </div>
              </div>
            </div>
          </div>

          <p>Order ID: {{ OrderDetail.order_Id }}</p>


          {% with comments.count as total_comments %}
          <h2>
            {{ total_comments }} comment{{ total_comments|pluralize }}
          </h2>
      {% endwith %}

      {% for comment in comments %}
       <div class="comment">   
          <p class="info">
           Comment {{ forloop.counter }} by {{ comment.owner.first_name }} {{ comment.owner.last_name }}
           {{ comment.created }}
          </p>
          {{ comment.body|linebreaks }}
       </div>
        {% empty %}
       <p>There are no comments.</p>
{% endfor %}
{% include "order/comment_form.html" %}

          
      <style>
        i {
          padding-right: 10px;
        }
        
        .padding-top {
          padding-top: 3rem;
        }
        
        .padding-top-small {
          padding-top: 1rem;
        }

        .padding-bottom {
          padding-bottom: 3rem;
        }
        
        .btn {
          margin-left: 1rem;
        }
      </style>
      
      
      {% endblock %}



